<h2>Mini FFT 1D</h1>

<p><b>Input:</b>&nbsp; <input size=50 id=i1 value="[[1,0],[2,0],[3,0],[4,0]]">
<p><b>Outpt:</b> <input size=50 id=i2 readonly>
<p><button id=ok>Compute</button>

<br>
<br>
<br>
<br>
<a href="https://antimatter15.com/2015/05/cooley-tukey-fft-dct-idct-in-under-1k-of-javascript/">Original source</a> - <a href="https://github.com/xem/miniFourier/tree/gh-pages/fft1D">Fork me on Github</a>

<script>


// Golf starts here
// =================

FFT = _ => {
  for (i in I){
    for(j = 0, h = i, k = N; k >>= 1; h >>= 1){
      j = (j << 1) | (h & 1);
    }
    if (j > i){
      [I[i],I[j]] = [I[j],I[i]];
    }
  }
  for(hN = 1; hN * 2 <= N; hN *= 2){
    for (i = 0; i < N; i += hN * 2){
      for (j = i; j < i + hN; j++){
        pi = Math.PI * (j - i) / hN;
        cos = Math.cos(pi);
        sin = Math.sin(pi);
        tre =  I[j + hN][0] * cos + I[j+hN][1] * sin;
        tim = -I[j + hN][0] * sin + I[j+hN][1] * cos;
        I[j + hN] = [I[j][0] - tre, I[j][1] - tim];
        I[j][0] += tre;
        I[j][1] += tim;
      }
    }
  }
}

// Golf ends here
// ==============

ok.onclick = () => {

  I = eval(i1.value);
  N = I.length;
  
  FFT();
  
  i2.value = JSON.stringify(I).replace(/-?\d+\.?\d*e?-?\d*/g,a=>(+a).toFixed(3));
  
}
</script>