<img src=circle.png width=1 height=1 id=img>
<table>
<td>
Original image
<br>
<canvas id="canvas0" style=width:45vw></canvas>
<td>
Fourier
<br>
<canvas id="canvas1" style=width:45vw>
<script>
function miniFFT(re, im) {
  N = re.length;
  for (i = 0; i < N; i++) {
    for(j = 0, h = i, k = N; k >>= 1; h >>= 1)
      j = (j << 1) | (h & 1);
    if (j > i) {
      re[j] = [re[i], re[i] = re[j]][0]
      im[j] = [im[i], im[i] = im[j]][0]
    }
  }
  for(hN = 1; hN * 2 <= N; hN *= 2){
    for (i = 0; i < N; i += hN * 2){
      for (j = i; j < i + hN; j++) {
        cos = Math.cos(Math.PI * (j - i) / hN),
          sin = Math.sin(Math.PI * (j - i) / hN)
        tre =  re[j+hN] * cos + im[j+hN] * sin,
          tim = -re[j+hN] * sin + im[j+hN] * cos;
        re[j + hN] = re[j] - tre; im[j + hN] = im[j] - tim;
        re[j] += tre; im[j] += tim;
      }
    }
  }
}
onload = () => {
  S = canvas0.width = canvas0.height = canvas1.width = canvas1.height = img.naturalWidth;
  x0 = canvas0.getContext("2d");
  x1 = canvas1.getContext("2d");
  x0.drawImage(img, 0, 0);
  d = x0.getImageData(0, 0, S, S).data;
  re = [];
  im = [];
  fft = [];
  max = 0;
  for(I = 0; I < S; I++){
    re[I] = [];
    fft[I] = [];
    for(J = 0; J < S; J++){
      re[I][J] = (d[(I*S+J)*4] + d[(I*S+J)*4+1] + d[(I*S+J)*4+2]) / 3;
    }
    im[I] = Array(S);
    im[I].fill(0);
    miniFFT(re[I], im[I]);
  }
  re2 = [];
  im2 = [];
  for(I = 0; I < S; I++){
    re2[I] = [];
    im2[I] = [];
    for(J = 0; J < S; J++){
      re2[I][J] = re[J][I];
      im2[I][J] = im[J][I];
    }
    miniFFT(re2[I], im2[I]);
    for(J = 0; J < S; J++){
      fft[I][J] = Math.hypot(re2[I][J], im2[I][J]);
      max = Math.max(max, fft[I][J]);
    }
  }
  logmax = Math.log(max);
  d2 = new ImageData(S, S);
  for(I = 0; I < S; I++){
    for(J = 0; J < S; J++){
      d2.data[(I*S+J)*4] = d2.data[(I*S+J)*4+1] = d2.data[(I*S+J)*4+2] = fft[I][J] / logmax;
      d2.data[(I*S+J)*4+3] = 255;
    }
  }
  x1.putImageData(d2, 0, 0);
}
</script>