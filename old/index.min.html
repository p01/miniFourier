<img src=circle.png height=1 id=O><table><td><canvas id=A style=width:45vw></canvas><td><canvas id=B style=width:45vw><script>M=Math;c=(a,b)=>{N=a.length;for(i=0;i<N;i++){j=0;h=i;for(k=N;k>>=1;h>>=1)j=j<<1|h&1;j>i&&(a[j]=[a[i],a[i]=a[j]][0],b[j]=[b[i],b[i]=b[j]][0])}for(h=1;2*h<=N;h*=2)for(i=0;i<N;i+=2*h)for(j=i;j<i+h;j++)u=M.cos(M.PI*(j-i)/h),v=M.sin(M.PI*(j-i)/h),w=a[j+h]*u+b[j+h]*v,Q=-a[j+h]*v+b[j+h]*u,a[j+h]=a[j]-w,b[j+h]=b[j]-Q,a[j]+=w,b[j]+=Q};onload=u=>{S=A.width=A.height=B.width=B.height=O.naturalWidth;x=A.getContext`2d`;X=B.getContext`2d`;x.drawImage(O,0,0);d=x.getImageData(0,0,S,S).data;U=[];V=[];g=[];for(I=s=0;I<S;I++){U[I]=[];g[I]=[];for(J=0;J<S;J++)U[I][J]=(d[4*(I*S+J)]+d[4*(I*S+J)+1]+d[4*(I*S+J)+2])/3;V[I]=Array(S);V[I].fill(0);c(U[I],V[I])}W=[];T=[];for(I=0;I<S;I++){W[I]=[];T[I]=[];for(J=0;J<S;J++)W[I][J]=U[J][I],T[I][J]=V[J][I];c(W[I],T[I]);for(J=0;J<S;J++)g[I][J]=M.hypot(W[I][J],T[I][J]),s=M.max(s,g[I][J])}m=M.log(s);e=new ImageData(S,S);for(I=0;I<S;I++)for(J=0;J<S;J++)e.data[4*(I*S+J)]=e.data[4*(I*S+J)+1]=e.data[4*(I*S+J)+2]=g[I][J]/m,e.data[4*(I*S+J)+3]=255;X.putImageData(e,0,0)}</script>